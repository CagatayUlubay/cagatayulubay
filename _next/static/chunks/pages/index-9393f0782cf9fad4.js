(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(1556)}])},1556:function(e,n,s){"use strict";s.r(n),s.d(n,{Index:function(){return w},default:function(){return y}});var i=s(5893),t=s(5591),l=s(4334),r=e=>fetch(e).then(e=>e.json()),c=(e,n)=>{let{arg:s}=n;return fetch(e,{method:"POST",body:JSON.stringify(s)}).then(e=>e.json())},d=s(3299),a=s(7183),h=s(272),o=s(2918),u=s(7294),m=s(9243),x=s(2443),j=s(3253),f=s(1664),g=s.n(f);let{Header:p,Content:v,Footer:_,Sider:k}=a.Z,Z="https://www.instagram.com/",b=[{key:"home",icon:(0,i.jsx)(m.Z,{}),label:"\xdcbersicht"}],w=()=>{var e,n,s;let{data:m,error:f,isLoading:p}=(0,t.ZP)("/api/users",r),{trigger:_}=(0,l.Z)("/api/users",c),{data:w}=(0,d.useSession)(),[y,N]=(0,u.useState)(!1),[O,S]=(0,u.useState)(!1);return f?(0,i.jsx)("div",{children:"Es ist ein Fehler aufgetreten.."}):(w?(O||(_({username:null===(s=w.user)||void 0===s?void 0:s.name}),S(!0)),b.push({key:"logout",icon:(0,i.jsx)(x.Z,{}),label:"Abmelden",onClick:()=>{(0,d.signOut)()}})):b.push({key:"login",icon:(0,i.jsx)(j.Z,{}),label:"Anmelden",onClick:()=>{(0,d.signIn)()}}),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a.Z,{style:{minHeight:"100vh"},children:[(0,i.jsxs)(k,{collapsible:!0,collapsed:y,onCollapse:e=>N(e),children:[(0,i.jsx)("div",{children:"{LOGO}"}),(0,i.jsx)(h.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["home"],items:b})]}),(0,i.jsx)(a.Z,{className:"site-layout",children:(0,i.jsxs)(v,{style:{margin:"0 16px"},children:[(0,i.jsxs)(o.Z,{style:{margin:"16px 0"},children:[(0,i.jsx)(o.Z.Item,{children:"Start"}),(0,i.jsx)(o.Z.Item,{children:"\xdcbersicht"})]}),(0,i.jsxs)("div",{children:[w&&(0,i.jsxs)(i.Fragment,{children:["Herzlich willkommen ",(0,i.jsx)("strong",{children:(0,i.jsxs)(g(),{href:"".concat(Z).concat(null===(e=w.user)||void 0===e?void 0:e.name),children:["@",null===(n=w.user)||void 0===n?void 0:n.name]})}),"!",(0,i.jsx)("h1",{children:"Teilnehmende Nutzer"}),p&&(0,i.jsx)("div",{children:"Lade Liste..."}),m&&m.map(e=>(0,i.jsx)("div",{children:(0,i.jsxs)(g(),{href:"".concat(Z).concat(e.name),target:"_blank",children:["@",e.name]})}))]}),!w&&(0,i.jsx)(i.Fragment,{children:"Melden dich an, um fortzufahren!"})]})]})})]})}))};var y=w}},function(e){e.O(0,[654,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);