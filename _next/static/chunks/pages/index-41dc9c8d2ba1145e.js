(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(1556)}])},1556:function(e,n,s){"use strict";s.r(n),s.d(n,{Index:function(){return b},default:function(){return y}});var i=s(5893),l=s(5591),r=s(4334),t=e=>fetch(e).then(e=>e.json()),c=(e,n)=>{let{arg:s}=n;return fetch(e,{method:"POST",body:JSON.stringify(s)}).then(e=>e.json())},d=s(3299),o=s(7183),a=s(272),h=s(2918),u=s(7294),m=s(9243),x=s(2443),j=s(3253),f=s(1664),g=s.n(f);let{Header:p,Content:v,Footer:w,Sider:_}=o.Z,k=!1,Z=[{key:"home",icon:(0,i.jsx)(m.Z,{}),label:"\xdcbersicht"}],b=()=>{var e,n,s,m;let{data:f,error:p,isLoading:w}=(0,l.ZP)("/api/users",t),{trigger:b}=(0,r.Z)("/api/users",c),{data:y}=(0,d.useSession)(),[N,O]=(0,u.useState)(!1);return p?(0,i.jsx)("div",{children:"Error.."}):(y?(k||(b({username:null===(s=y.user)||void 0===s?void 0:s.name}),console.log(y,null===(m=y.user)||void 0===m?void 0:m.name),k=!0),Z.push({key:"logout",icon:(0,i.jsx)(x.Z,{}),label:"Abmelden",onClick:()=>{(0,d.signOut)()}})):Z.push({key:"login",icon:(0,i.jsx)(j.Z,{}),label:"Anmelden",onClick:()=>{(0,d.signIn)()}}),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(o.Z,{style:{minHeight:"100vh"},children:[(0,i.jsxs)(_,{collapsible:!0,collapsed:N,onCollapse:e=>O(e),children:[(0,i.jsx)("div",{children:"{LOGO}"}),(0,i.jsx)(a.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["home"],items:Z})]}),(0,i.jsx)(o.Z,{className:"site-layout",children:(0,i.jsxs)(v,{style:{margin:"0 16px"},children:[(0,i.jsxs)(h.Z,{style:{margin:"16px 0"},children:[(0,i.jsx)(h.Z.Item,{children:"Start"}),(0,i.jsx)(h.Z.Item,{children:"\xdcbersicht"})]}),(0,i.jsxs)("div",{children:[y&&(0,i.jsxs)(i.Fragment,{children:["Herzlich willkommen ",(0,i.jsx)("strong",{children:(0,i.jsxs)(g(),{href:"https://www.instagram.com/".concat(null===(e=y.user)||void 0===e?void 0:e.name),children:["@",null===(n=y.user)||void 0===n?void 0:n.name]})}),"!",(0,i.jsx)("h1",{children:"Teilnehmende Nutzer"}),w&&(0,i.jsx)("div",{children:"Lade Liste..."}),f&&f.map(e=>(0,i.jsxs)(g(),{href:"https://www.instagram.com/".concat(e.name),target:"_blank",children:["@",e.name]}))]}),!y&&(0,i.jsx)(i.Fragment,{children:"Melden dich an, um fortzufahren!"})]})]})})]})}))};var y=b}},function(e){e.O(0,[654,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);